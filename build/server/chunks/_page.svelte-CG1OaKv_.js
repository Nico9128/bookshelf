import { X as store_get, Y as unsubscribe_stores, a0 as bind_props, $ as attr, W as attr_class, Z as ensure_array_like, _ as spread_props, a1 as stringify, a2 as slot } from './index2-CZDSoKIF.js';
import { m as myGlobalState, I as Icon } from './Icon-D_SPYX0q.js';
import './exports-BXvEiaiv.js';
import { i as invalidateAll } from './client-mojy6so4.js';
import { e as escape_html, f as fallback } from './index-DIH71No0.js';

function Circle_arrow_left($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "12", "cy": "12", "r": "10" }],
      ["path", { "d": "m12 8-4 4 4 4" }],
      ["path", { "d": "M16 12H8" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "circle-arrow-left" },
      /**
       * @component @name CircleArrowLeft
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTIgOC00IDQgNCA0IiAvPgogIDxwYXRoIGQ9Ik0xNiAxMkg4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-arrow-left
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Circle_plus($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["circle", { "cx": "12", "cy": "12", "r": "10" }],
      ["path", { "d": "M8 12h8" }],
      ["path", { "d": "M12 8v8" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "circle-plus" },
      /**
       * @component @name CirclePlus
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-plus
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Grid_3x3($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      [
        "rect",
        { "width": "18", "height": "18", "x": "3", "y": "3", "rx": "2" }
      ],
      ["path", { "d": "M3 9h18" }],
      ["path", { "d": "M3 15h18" }],
      ["path", { "d": "M9 3v18" }],
      ["path", { "d": "M15 3v18" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "grid-3x3" },
      /**
       * @component @name Grid3x3
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTMgMTVoMTgiIC8+CiAgPHBhdGggZD0iTTkgM3YxOCIgLz4KICA8cGF0aCBkPSJNMTUgM3YxOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/grid-3x3
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Plus($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [["path", { "d": "M5 12h14" }], ["path", { "d": "M12 5v14" }]];
    Icon($$renderer2, spread_props([
      { name: "plus" },
      /**
       * @component @name Plus
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Rows_3($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      [
        "rect",
        { "width": "18", "height": "18", "x": "3", "y": "3", "rx": "2" }
      ],
      ["path", { "d": "M21 9H3" }],
      ["path", { "d": "M21 15H3" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "rows-3" },
      /**
       * @component @name Rows3
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0yMSA5SDMiIC8+CiAgPHBhdGggZD0iTTIxIDE1SDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rows-3
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function Trash($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" }],
      ["path", { "d": "M3 6h18" }],
      ["path", { "d": "M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "trash" },
      /**
       * @component @name Trash
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function X($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    let { $$slots, $$events, ...props } = $$props;
    const iconNode = [
      ["path", { "d": "M18 6 6 18" }],
      ["path", { "d": "m6 6 12 12" }]
    ];
    Icon($$renderer2, spread_props([
      { name: "x" },
      /**
       * @component @name X
       * @description Lucide SVG icon component, renders SVG Element with children.
       *
       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x
       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation
       *
       * @param {Object} props - Lucide icons props and any valid SVG attribute
       * @returns {FunctionalComponent} Svelte component
       *
       */
      props,
      {
        iconNode,
        children: ($$renderer3) => {
          props.children?.($$renderer3);
          $$renderer3.push(`<!---->`);
        },
        $$slots: { default: true }
      }
    ]));
  });
}
function StatCard($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let accent;
    let progress = fallback($$props["progress"], 8);
    let data = $$props["data"];
    let book_num = data.result.filter((book) => {
      let finish_year = book.end_date?.slice(0, 4);
      return book.list === "Read" && finish_year === (/* @__PURE__ */ new Date()).getFullYear().toString();
    }).length;
    accent = store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).accent;
    $$renderer2.push(`<div${attr_class("rounded-4xl p-4 px-8", void 0, {
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><div class="mb-2 flex items-center justify-between"><p>Yearly Reading Progress</p> <p>${escape_html(book_num / 25 * 100)}% (${escape_html(book_num)}/25)</p></div> <div class="h-4 w-full overflow-clip rounded-full bg-gray-300"><div${attr_class("h-4", void 0, {
      "bg-green-400": accent === "green",
      "bg-blue-400": accent === "blue",
      "bg-red-400": accent === "red",
      "bg-orange-400": accent === "orange",
      "bg-purple-400": accent === "purple"
    })} style="width: 20%;"></div></div></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { progress, data });
  });
}
function Button($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let text = fallback($$props["text"], "Button");
    let hasIcon = fallback($$props["hasIcon"], false);
    let accent;
    let color = fallback($$props["color"], "");
    accent = store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).accent;
    $$renderer2.push(`<button${attr_class(`flex cursor-pointer items-center gap-2 rounded-full px-4 py-2 text-black ${stringify(color != "" ? color : "")}`, void 0, {
      "bg-blue-300": accent === "blue" && color == "",
      "bg-green-300": accent === "green" && color == "",
      "bg-red-300": accent === "red" && color == "",
      "bg-orange-300": accent === "orange" && color == "",
      "hover:bg-blue-400": accent === "blue" && color == "",
      "hover:bg-green-400": accent === "green" && color == "",
      "hover:bg-red-400": accent === "red" && color == "",
      "hover:bg-orange-400": accent === "orange" && color == "",
      "hover:bg-purple-400": accent === "purple" && color == "",
      "bg-purple-300": accent === "purple" && color == "",
      "bg-neutral-300": accent === "neutral" && color == "",
      "hover:bg-neutral-400": accent === "neutral" && color == ""
    })}>`);
    if (hasIcon) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<!--[-->`);
      slot($$renderer2, $$props, "icon", {});
      $$renderer2.push(`<!--]-->`);
    } else {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--> ${escape_html(text)}</button>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { text, hasIcon, color });
  });
}
function BookCard($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let effective_layout_grid;
    let progress = fallback($$props["progress"], null);
    let title = fallback($$props["title"], "");
    let author = fallback($$props["author"], "");
    let cover = fallback($$props["cover"], "");
    let id = fallback($$props["id"], "");
    let layout_grid = fallback($$props["layout_grid"], void 0);
    let accent;
    let suggestion = fallback($$props["suggestion"], false);
    let addSearch = fallback($$props["addSearch"], false);
    let noClick = fallback($$props["noClick"], false);
    accent = store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).accent;
    effective_layout_grid = layout_grid ?? store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid;
    $$renderer2.push(`<div${attr_class("text-md flex cursor-pointer items-center gap-4 rounded-4xl p-4", void 0, {
      "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "md:flex-col": effective_layout_grid || suggestion,
      "md:items-start": effective_layout_grid || suggestion
    })}><div class="relative">`);
    if (cover.includes("http")) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<img id="book-cover"${attr("src", `${cover}`)} alt="Book Cover"${attr_class("min-w-24 rounded-2xl", void 0, {
        "md:max-h-64": effective_layout_grid || suggestion,
        "md:max-w-full": effective_layout_grid || suggestion,
        "max-w-24": !(effective_layout_grid || suggestion)
      })}/>`);
    } else {
      $$renderer2.push("<!--[!-->");
      $$renderer2.push(`<div${attr_class("aspect-2/3 min-w-24 rounded-2xl", void 0, {
        "bg-gray-300": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-600": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "md:min-h-64": effective_layout_grid || suggestion,
        "md:w-full": effective_layout_grid || suggestion
      })}></div>`);
    }
    $$renderer2.push(`<!--]--></div> <div class="grow"><div${attr_class("flex items-start", void 0, { "flex-col": effective_layout_grid || suggestion })}><div class="grow"><p class="text-xl">${escape_html(title)}</p> <p class="text-md italic">${escape_html(author)}</p></div></div> <div${attr_class("flex items-center gap-4 rounded-full py-2", void 0, { "flex-col": effective_layout_grid || suggestion })}><div class="h-4 w-full overflow-clip rounded-full bg-gray-300"><div${attr_class("h-4", void 0, {
      "bg-green-400": accent === "green",
      "bg-blue-400": accent === "blue",
      "bg-red-400": accent === "red",
      "bg-orange-400": accent === "orange",
      "bg-purple-400": accent === "purple"
    })} style="width: 20%;"></div></div> `);
    if (progress !== null && progress !== 100) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<div class="w-max min-w-max"><p class="mt-1 text-sm">${escape_html(progress)}% completed</p></div>`);
    } else {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--></div> `);
    if (addSearch) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<div class="flex w-fit cursor-pointer items-center gap-2 rounded-full px-4 py-2">Add Edition `);
      Circle_plus($$renderer2, { size: 16 });
      $$renderer2.push(`<!----></div>`);
    } else {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--></div></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, {
      progress,
      title,
      author,
      cover,
      id,
      layout_grid,
      suggestion,
      addSearch,
      noClick
    });
  });
}
function HomePage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let data = $$props["data"];
    let bookAddSearchTitle = "";
    let bookAddSearchAuthor = "";
    let bookSearch = [];
    $$renderer2.push(`<h1 class="text-4xl">Bookshelf</h1> <p class="mb-4">Welcome back, Nico</p>  <span>`);
    Button($$renderer2, {
      text: "Add Book",
      hasIcon: true,
      $$slots: {
        icon: ($$renderer3) => {
          Circle_plus($$renderer3, { slot: "icon", size: 24 });
        }
      }
    });
    $$renderer2.push(`<!----></span> `);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).addingBook) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<div${attr_class("my-4 rounded-3xl p-4", void 0, {
        "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}><h1>Add Book</h1>   <div class="grid grid-cols-2"><input type="text" name="title" placeholder="Title"${attr_class("m-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}${attr("value", bookAddSearchTitle)}/> <input type="text" name="author" placeholder="Author"${attr_class("m-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}${attr("value", bookAddSearchAuthor)}/>  <a class="m-2">`);
      Button($$renderer2, { text: "Search" });
      $$renderer2.push(`<!----></a>  <p>First 5 results shown.</p></div> <div class="grid grid-cols-1 gap-4"><!--[-->`);
      const each_array = ensure_array_like(bookSearch.slice(0, 5));
      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {
        let book = each_array[$$index];
        BookCard($$renderer2, {
          title: book.title,
          author: book.author_name ? book.author_name[0] : "Unknown Author",
          cover: book.cover_i ? "https://covers.openlibrary.org/b/id/" + book.cover_i + "-M.jpg" : "",
          id: book.key,
          layout_grid: false,
          addSearch: true
        });
      }
      $$renderer2.push(`<!--]--></div></div>`);
    } else {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--> <div class="my-4">`);
    StatCard($$renderer2, { progress: 8, data });
    $$renderer2.push(`<!----></div> <div${attr_class("mb-4 rounded-4xl p-4", void 0, {
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><div class="my-4 flex items-center"><h1 class="grow text-2xl">Currently Reading</h1>  <p class="hidden cursor-pointer md:block">`);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid) {
      $$renderer2.push("<!--[-->");
      Rows_3($$renderer2, { size: 24 });
    } else {
      $$renderer2.push("<!--[!-->");
      Grid_3x3($$renderer2, { size: 24 });
    }
    $$renderer2.push(`<!--]--></p></div> <div${attr_class("grid grid-cols-1 gap-4", void 0, {
      "md:grid-cols-1": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid,
      "md:grid-cols-3": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid
    })}><!--[-->`);
    const each_array_1 = ensure_array_like(data.result);
    for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {
      let book = each_array_1[$$index_1];
      if (book.list == "Currently Reading") {
        $$renderer2.push("<!--[-->");
        BookCard($$renderer2, {
          title: book.title,
          author: book.author,
          cover: book.coverUrl,
          progress: book.progress,
          id: book.id,
          layout_grid: store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid
        });
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { data });
  });
}
function StatsPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let data = $$props["data"];
    function howFarThroughYear() {
      const now = /* @__PURE__ */ new Date();
      const start = new Date(now.getFullYear(), 0, 1);
      const end = new Date(now.getFullYear() + 1, 0, 1);
      const elapsed = now - start;
      const total = end - start;
      return elapsed / total * 100;
    }
    let booksThisYear = data.result.filter((book) => {
      let finish_year = book.end_date?.slice(0, 4);
      return book.list === "Read" && finish_year === (/* @__PURE__ */ new Date()).getFullYear().toString();
    }).length;
    let pace = booksThisYear / ((/* @__PURE__ */ new Date()).getMonth() + 1);
    let projected = Math.round(pace * 12);
    let year_percent = howFarThroughYear();
    projected = 1 / (parseFloat(year_percent) / 100) * booksThisYear;
    $$renderer2.push(`<h1 class="text-4xl mb-4">Statistics</h1> <span class="text-xl gap-4 grid grid-cols-2"><p${attr_class("p-4 rounded-4xl", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}>${escape_html(data.result.length)} books loaded.</p> <p${attr_class("p-4 rounded-4xl", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}>You have finished ${escape_html(data.result.filter((book) => book.list === "Read").length)} books.</p> <p${attr_class("p-4 rounded-4xl", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}>You have finished ${escape_html(booksThisYear)} books this year</p> <p${attr_class("p-4 rounded-4xl", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}>At this pace, you will finish ${escape_html(Math.round(projected))} books this year in total,</p></span>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { data });
  });
}
function ShelfPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let data = $$props["data"];
    let tags = [];
    data.result.forEach((book) => {
      if (book.tags) {
        book.tags.split(",").forEach((tag) => {
          if (!tags.includes(tag.trim()) && tag.trim() !== "") {
            tags.push(tag.trim());
          }
        });
      }
    });
    $$renderer2.push(`<h1 class="mb-4 text-4xl">Books</h1>   <div class="grid grid-cols-1 gap-4"><div${attr_class("flex cursor-pointer items-center rounded-3xl p-4", void 0, {
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><p class="grow text-xl">Currently Reading</p> <div class="flex"><!--[-->`);
    const each_array = ensure_array_like(data.result.filter((book) => book.coverUrl.includes("http") && book.list === "Currently Reading"));
    for (let i = 0, $$length = each_array.length; i < $$length; i++) {
      let book = each_array[i];
      if (i < 3) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<img${attr("src", book.coverUrl)} alt="Book Cover" class="ml-4 h-24 rounded-2xl"/>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div> <div${attr_class("flex cursor-pointer items-center rounded-3xl p-4", void 0, {
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><p class="grow text-xl">TBR</p> <div class="flex"><!--[-->`);
    const each_array_1 = ensure_array_like(data.result.filter((book) => book.coverUrl.includes("http") && book.list === "Want to Read"));
    for (let i = 0, $$length = each_array_1.length; i < $$length; i++) {
      let book = each_array_1[i];
      if (i < 3) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<img${attr("src", book.coverUrl)} alt="Book Cover" class="ml-4 h-24 rounded-2xl"/>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div> <div${attr_class("flex cursor-pointer items-center rounded-3xl p-4", void 0, {
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><p class="grow text-xl">Finished</p> <div class="flex"><!--[-->`);
    const each_array_2 = ensure_array_like(data.result.filter((book) => book.coverUrl.includes("http") && book.list === "Read"));
    for (let i = 0, $$length = each_array_2.length; i < $$length; i++) {
      let book = each_array_2[i];
      if (i < 3) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<img${attr("src", book.coverUrl)} alt="Book Cover" class="ml-4 h-24 rounded-2xl"/>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div> <div${attr_class("cursor-pointer items-center rounded-3xl p-4", void 0, {
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "hover:bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><p class="mb-4 grow text-xl">All Books</p> <div class="flex flex-wrap gap-4"><!--[-->`);
    const each_array_3 = ensure_array_like(data.result.filter((book) => book.coverUrl.includes("http")));
    for (let i = 0, $$length = each_array_3.length; i < $$length; i++) {
      let book = each_array_3[i];
      if (i < 8) {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<img${attr("src", book.coverUrl)} alt="Book Cover" class="h-24 rounded-2xl"/>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div></div> <p class="my-2 text-xl">Tags</p> <div class="flex flex-wrap gap-2"><!--[-->`);
    const each_array_4 = ensure_array_like(tags);
    for (let $$index_4 = 0, $$length = each_array_4.length; $$index_4 < $$length; $$index_4++) {
      let tag = each_array_4[$$index_4];
      $$renderer2.push(`<div${attr_class("flex cursor-pointer items-center gap-1 rounded-3xl p-2", void 0, {
        "bg-gray-300": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "hover:bg-neutral-600": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "hover:bg-gray-400": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}>${escape_html(tag)}</div>`);
    }
    $$renderer2.push(`<!--]--></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { data });
  });
}
function SettingsPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).accent;
    $$renderer2.push(`<h1 class="text-4xl">Settings</h1> <p>Pick Accent:</p> <div class="grid w-64 grid-cols-6"><div class="h-8 cursor-pointer rounded-l-full bg-red-500"></div> <div class="h-8 cursor-pointer bg-orange-500"></div> <div class="h-8 cursor-pointer bg-green-500"></div> <div class="h-8 cursor-pointer bg-blue-500"></div> <div class="h-8 cursor-pointer bg-purple-500"></div> <div class="h-8 cursor-pointer rounded-r-full bg-neutral-500"></div></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
  });
}
function EditPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let id = store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_book;
    let { data } = $$props;
    console.log(data);
    let book = data.result?.filter((book2) => book2.id === id)[0];
    let tagCurrent = "";
    let similarBooks = [];
    if (book) {
      $$renderer2.push("<!--[-->");
      $$renderer2.push(`<div>`);
      Circle_arrow_left($$renderer2, { size: 32, class: "cursor-pointer" });
      $$renderer2.push(`<!----></div> <form method="POST" action="/?/updateBook"><div class="flex items-stretch gap-4"><div class="grid grow grid-cols-1"><input type="text" name="title"${attr("value", book["title"])} placeholder="Title"${attr_class("my-2 rounded-3xl p-2 text-3xl", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/> <input type="text" name="author"${attr("value", book["author"])} placeholder="Author"${attr_class("my-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/> <div class="grid grid-cols-2 gap-4"><div class="flex flex-col"><label for="coverUrl" class="mx-2 mt-2">Cover URL</label> <input type="text" name="coverUrl"${attr("value", book["coverUrl"])} placeholder="Cover URL"${attr_class("my-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/></div> <div class="flex flex-col"><label for="isbn" class="mx-2 mt-2">ISBN</label> <input type="text" name="isbn"${attr("value", book["isbn"])} placeholder="ISBN"${attr_class("my-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/></div></div> <div class="grid grid-cols-2 gap-4"><div class="flex flex-col"><label for="start_date" class="mx-2 mt-2">Start Date</label> <input type="date" name="start_date"${attr("value", book["start_date"])} placeholder="Start Date"${attr_class("my-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/></div> <div class="flex flex-col"><label for="end_date" class="mx-2 mt-2">End Date</label> <input type="date" name="end_date"${attr("value", book["end_date"])} placeholder="End Date"${attr_class("my-2 rounded-3xl p-2", void 0, {
        "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
        "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
      })}/></div></div> `);
      $$renderer2.select(
        {
          class: "my-2 rounded-3xl p-2",
          name: "list",
          value: book["list"]
        },
        ($$renderer3) => {
          $$renderer3.option({ value: "", disabled: true, selected: true }, ($$renderer4) => {
            $$renderer4.push(`Select List`);
          });
          $$renderer3.option({ value: "Currently Reading" }, ($$renderer4) => {
            $$renderer4.push(`Currently Reading`);
          });
          $$renderer3.option({ value: "Want to Read" }, ($$renderer4) => {
            $$renderer4.push(`Want to Read`);
          });
          $$renderer3.option({ value: "Read" }, ($$renderer4) => {
            $$renderer4.push(`Read`);
          });
        },
        void 0,
        {
          "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
          "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
          "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
        }
      );
      $$renderer2.push(` <div class="flex gap-4"><span class="my-2 flex">`);
      Button($$renderer2, { text: "Update" });
      $$renderer2.push(`<!----></span> <button type="button" class="my-2 flex" aria-label="delete">`);
      Button($$renderer2, {
        hasIcon: true,
        text: "Delete",
        $$slots: {
          icon: ($$renderer3) => {
            Trash($$renderer3, { slot: "icon", size: 16 });
          }
        }
      });
      $$renderer2.push(`<!----></button></div></div> <img${attr("src", book["coverUrl"])} alt="Book Cover" class="aspect-[2/3] h-full max-h-92 rounded-2xl object-cover"/></div></form>`);
    } else {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]--> <label for="tags" class="mx-2 mt-2">Tags</label> <div class="flex flex-col flex-wrap gap-2"><div class="flex gap-2 flex-wrap"><div${attr_class("flex w-min items-center gap-1 rounded-3xl p-2", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><input type="text" name="tags" size="8" placeholder="Type here"${attr_class("w-min bg-transparent outline-none", void 0, {
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}${attr("value", tagCurrent)}/> <a class="cursor-pointer">`);
    Plus($$renderer2, { size: 16 });
    $$renderer2.push(`<!----></a></div> <!--[-->`);
    const each_array = ensure_array_like((book?.tags || "").split(","));
    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {
      let tag = each_array[$$index];
      if (tag !== "") {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<div${attr_class("flex cursor-pointer items-center gap-1 rounded-3xl p-2", void 0, {
          "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
          "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
          "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
        })}>${escape_html(tag)} `);
        X($$renderer2, { size: 16 });
        $$renderer2.push(`<!----></div>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div> <h1 class="mb-4 text-2xl">Recommendations</h1> <a>`);
    Button($$renderer2, { text: "Reccomend Similar Books", color: "bg-amber-500" });
    $$renderer2.push(`<!----></a> <div class="grid grid-cols-3 gap-4"><!--[-->`);
    const each_array_1 = ensure_array_like(similarBooks);
    for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {
      let book2 = each_array_1[$$index_1];
      BookCard($$renderer2, { title: book2.title, cover: book2.image, suggestion: true });
    }
    $$renderer2.push(`<!--]--></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
  });
}
function TimerSelectPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let data = $$props["data"];
    invalidateAll();
    $$renderer2.push(`<h1 class="text-4xl mb-4">Timer</h1> <div${attr_class("mb-4 rounded-4xl p-4", void 0, {
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><div class="my-4 flex items-center"><h1 class="grow text-2xl">Choose book TO TIME</h1>  <p class="hidden cursor-pointer md:block">`);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid) {
      $$renderer2.push("<!--[-->");
      Rows_3($$renderer2, { size: 24 });
    } else {
      $$renderer2.push("<!--[!-->");
      Grid_3x3($$renderer2, { size: 24 });
    }
    $$renderer2.push(`<!--]--></p></div> <div${attr_class("grid grid-cols-1 gap-4", void 0, {
      "md:grid-cols-1": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid,
      "md:grid-cols-3": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid
    })}><!--[-->`);
    const each_array = ensure_array_like(data.result);
    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {
      let book = each_array[$$index];
      if (book.list == "Currently Reading") {
        $$renderer2.push("<!--[-->");
        $$renderer2.push(`<div>`);
        BookCard($$renderer2, {
          title: book.title,
          author: book.author,
          cover: book.coverUrl,
          progress: book.progress,
          id: book.id,
          layout_grid: store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid,
          noClick: true
        });
        $$renderer2.push(`<!----></div>`);
      } else {
        $$renderer2.push("<!--[!-->");
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div></div> `);
    {
      $$renderer2.push("<!--[!-->");
    }
    $$renderer2.push(`<!--]-->`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { data });
  });
}
function ListPage($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let { data } = $$props;
    let result = data.result;
    let searchTerm = "";
    console.log(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list.slice(0, 4) == "tag:" && result[0].tags.split(",").includes(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list.slice(4)));
    let filteredBooks = result.filter((book) => (book.list === store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list || store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list === "All" || store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list.slice(0, 4) == "tag:" && book.tags.split(",").includes(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list.slice(4))) && (book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase())));
    $$renderer2.push(`<div>`);
    Circle_arrow_left($$renderer2, { size: 32, class: "cursor-pointer" });
    $$renderer2.push(`<!----></div> <h1 class="my-4 text-4xl">${escape_html(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list)}</h1> <div${attr_class("mb-4 rounded-4xl p-4", void 0, {
      "bg-neutral-800": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-white": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-gray-100": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}><div class="my-4 flex items-center"><h1 class="grow text-2xl">${escape_html(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).current_list)}</h1> <p class="hidden cursor-pointer md:block">`);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid) {
      $$renderer2.push("<!--[-->");
      Rows_3($$renderer2, { size: 24 });
    } else {
      $$renderer2.push("<!--[!-->");
      Grid_3x3($$renderer2, { size: 24 });
    }
    $$renderer2.push(`<!--]--></p></div> <input type="text" placeholder="Search in list..."${attr_class("mb-4 w-full rounded-3xl p-2 text-black", void 0, {
      "bg-gray-200": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "text-black": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode,
      "bg-neutral-700": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).darkMode
    })}${attr("value", searchTerm)}/> <div${attr_class("grid grid-cols-1 gap-4", void 0, {
      "md:grid-cols-1": !store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid,
      "md:grid-cols-3": store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid
    })}><!--[-->`);
    const each_array = ensure_array_like(filteredBooks);
    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {
      let book = each_array[$$index];
      BookCard($$renderer2, {
        title: book.title,
        author: book.author,
        cover: book.coverUrl,
        progress: book.progress,
        id: book.id,
        layout_grid: store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).layout_grid
      });
    }
    $$renderer2.push(`<!--]--></div></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
  });
}
function _page($$renderer, $$props) {
  $$renderer.component(($$renderer2) => {
    var $$store_subs;
    let data = $$props["data"];
    console.log(store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).default_list === "") {
      myGlobalState.update((state) => {
        state.default_list = "Want to Read";
        return state;
      });
    }
    console.log(data);
    console.log("Default list:", store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).default_list);
    $$renderer2.push(`<div class="p-6 md:px-0 md:pt-16">`);
    if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).editMode === true) {
      $$renderer2.push("<!--[-->");
      EditPage($$renderer2, { data });
    } else {
      $$renderer2.push("<!--[!-->");
      if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).listView === true) {
        $$renderer2.push("<!--[-->");
        ListPage($$renderer2, { data });
      } else {
        $$renderer2.push("<!--[!-->");
        if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page === "home") {
          $$renderer2.push("<!--[-->");
          HomePage($$renderer2, { data });
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]--> `);
        if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page === "stats") {
          $$renderer2.push("<!--[-->");
          StatsPage($$renderer2, { data });
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]--> `);
        if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page === "timer") {
          $$renderer2.push("<!--[-->");
          TimerSelectPage($$renderer2, { data });
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]--> `);
        if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page === "books") {
          $$renderer2.push("<!--[-->");
          ShelfPage($$renderer2, { data });
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]--> `);
        if (store_get($$store_subs ??= {}, "$myGlobalState", myGlobalState).page === "settings") {
          $$renderer2.push("<!--[-->");
          SettingsPage($$renderer2);
        } else {
          $$renderer2.push("<!--[!-->");
        }
        $$renderer2.push(`<!--]-->`);
      }
      $$renderer2.push(`<!--]-->`);
    }
    $$renderer2.push(`<!--]--></div>`);
    if ($$store_subs) unsubscribe_stores($$store_subs);
    bind_props($$props, { data });
  });
}

export { _page as default };
//# sourceMappingURL=_page.svelte-CG1OaKv_.js.map
